!function t(r,e,i){function s(n,a){if(!e[n]){if(!r[n]){var h="function"==typeof require&&require;if(!a&&h)return h(n,!0);if(o)return o(n,!0);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}var d=e[n]={exports:{}};r[n][0].call(d.exports,function(t){var e=r[n][1][t];return s(e?e:t)},d,d.exports,t,r,e,i)}return e[n].exports}for(var o="function"==typeof require&&require,n=0;n<i.length;n++)s(i[n]);return s}({1:[function(t,r,e){var i,s,o=function(t,r){return function(){return t.apply(r,arguments)}};s=t("jade/component"),i=function(){function t(t,r){this.$el=t,this.options=null!=r?r:{},this.update=o(this.update,this),this.options.logsEnabled||(this.options.logsEnabled=!1),this.options.loglevel||(this.options.logLevel="INFO"),this.width=this._size,this.height=this._size,this.innerRadius=this._size/10,this.outerRadius=this._size/5,this.radius=this.innerRadius+this.outerRadius,this.$node=$(s()),this.$el.append(this.$node)}return t.prototype._size=250,t.prototype._points=96,t.prototype._thresholds={cool:{from:0,to:.75},warm:{from:.75,to:.9},hot:{from:.9,to:1}},t.prototype.build=function(){return this.svg=d3.select($(".component",this.$node).get(0)).append("svg:svg").attr({height:this.height,width:this.width}),this._buildGraph(),this._buildLegend(),this._subscribeToHourlyData(this.options.id)},t.prototype.update=function(t){var r,e;return r=this,e=2*Math.PI/this._points,this.slices=this.graph.selectAll("path").data(t),this.slices.enter().append("path").each(function(t,i){var s,o,n;return s=i+1,n=s*e,o=n+e,d3.select(this).attr({"class":"cool",d:d3.svg.arc().innerRadius(r.innerRadius).outerRadius(r.innerRadius+1).startAngle(n).endAngle(o)})}),this.slices.each(function(t,i){var s,o,n;return s=i+1,n=s*e,o=n+e,d3.select(this).transition().duration(250).delay(10*i).attr({"class":"fill-temp "+r._getTemperature(t.value),d:d3.svg.arc().innerRadius(r.innerRadius).outerRadius(r.innerRadius+r.outerRadius*t.value).startAngle(n).endAngle(o)})})},t.prototype._buildGraph=function(){return this.graph=this.svg.append("g").attr({transform:"translate("+this.width/2+", "+this.height/2+")"}),this.graph.append("svg:circle").attr({r:this.innerRadius,"class":"circle"}),this.graph.append("svg:circle").attr({r:this.radius*this._thresholds.cool.to,"class":"dash-circle stroke-temp cool"}),this.graph.append("svg:circle").attr({r:this.radius*this._thresholds.warm.to,"class":"dash-circle stroke-temp warm"}),this.graph.append("svg:circle").attr({r:this.radius*this._thresholds.hot.to,"class":"dash-circle stroke-temp hot"})},t.prototype._buildLegend=function(){var t,r,e,i;return t=this,e=this._getTimeArray(23,24),r=2*Math.PI/24,i=this.graph.selectAll("text").data(e),i.enter().append("text").text(function(t){return t.hour%3===0?""+t.hour+t.period:t.hour}).attr({"class":function(t){return t.hour%3===0?"primary":"secondary"},x:function(e,i){return 1.75*t.outerRadius*Math.sin(r*i)},y:function(e,i){return 1.75*-t.outerRadius*Math.cos(r*i)}})},t.prototype._subscribeToHourlyData=function(t){return PubSub.publish("STATS.SUBSCRIBE.HOURLY_AVERAGE",{statProviderId:t,callback:this.update})},t.prototype._getTimeArray=function(t,r){var e,i,s,o;for(null==r&&(r=25),o=[],e=i=0,s=r;s>=0?s>i:i>s;e=s>=0?++i:--i)o.unshift(this._getTimeObject(t--)),-1===t&&(t=23);return o},t.prototype._getTimeObject=function(t){switch(!1){case 0!==t:return{hour:12,period:"am",military:t};case!(12>t):return{hour:t,period:"am",military:t};case 12!==t:return{hour:12,period:"pm",military:t};case!(t>12):return{hour:t-12,period:"pm",military:t}}},t.prototype._getTemperature=function(t){switch(!1){case!(0>t):return"sleep";case!(t<this._thresholds.cool.to):return"cool";case!(t<this._thresholds.warm.to):return"warm";default:return"hot"}},t}(),window.nanobox||(window.nanobox={}),nanobox.HourlyAverage=i},{"jade/component":2}],2:[function(t,r,e){r.exports=function(t){var r=[];return r.push('<div class="nanobox-dash-ui-hourly-average"><div class="component"></div></div>'),r.join("")}},{}]},{},[1]);