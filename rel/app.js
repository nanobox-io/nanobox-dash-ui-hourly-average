!function t(e,i,r){function s(a,o){if(!i[a]){if(!e[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(n)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};e[a][0].call(d.exports,function(t){var i=e[a][1][t];return s(i?i:t)},d,d.exports,t,e,i,r)}return i[a].exports}for(var n="function"==typeof require&&require,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(t,e,i){var r,s,n,a=function(t,e){return function(){return t.apply(e,arguments)}};s=t("./utils"),n=t("jade/component"),r=function(){function t(t,e){this.$el=t,this.options=null!=e?e:{},this.updateAverageStats=a(this.updateAverageStats,this),this.options.metrics||(this.options.metrics=["cpu","ram","swap","disk"]),this.metric=this.options.metrics[0],this.start=this._periods[0].start,this.stop=this._periods[0].stop,this.size=this.options.size||this._size,this.width=this.size,this.height=this.size,this.innerRadius=this.size/10,this.outerRadius=this.size/5,this.radius=this.innerRadius+this.outerRadius,this.$node=$(n({metrics:this.options.metrics,periods:this._periods})),this.$el.append(this.$node)}return t.prototype._size=250,t.prototype._points=96,t.prototype._slices=2*Math.PI/24,t.prototype._periods=[{text:"24 hours",value:0,start:"25h",stop:"1h"},{text:"7 days",value:1,start:"168h",stop:"1h"},{text:"30 days",value:2,start:"720h",stop:"1h"}],t.prototype.build=function(){return this.view=d3.select($(".component",this.$node).get(0)),this.component=this.view.append("svg:svg").attr({width:this.width,height:this.height}),this.center=this.component.append("g").attr({transform:"translate("+this.width/2+", "+this.height/2+")"}),this._drawThresholds(),this._buildLegend(),this._updateData(),this.$node.find(".metrics").change(function(t){return function(e){return t.metric=$(e.currentTarget).find("option:selected").val(),t._updateData()}}(this)),this.$node.find(".periods").change(function(t){return function(e){var i,r;return i=$(e.currentTarget).find("option:selected").val(),r=[t._periods[i].start,t._periods[i].stop],t.start=r[0],t.stop=r[1],t._updateData()}}(this))},t.prototype.updateAverageStats=function(t){var e,i;return e=this,i=this.center.selectAll("path").data(t).enter().append("path"),i.each(function(t,i){var r,s;return s=(i+1)*e._slices/4,r=s+e._slices/4,d3.select(this).attr({"class":"cool",d:d3.svg.arc().innerRadius(e.innerRadius).outerRadius(e.innerRadius).startAngle(s).endAngle(r)})}),this.center.selectAll("path").data(t).each(function(t,i){var r,n;return n=(i+1)*e._slices/4,r=n+e._slices/4,0===t.value&&(t.value=.05),d3.select(this).transition().duration(250).delay(10*i).attr({"class":"fill-temp "+s.getTemperature(t.value),d:d3.svg.arc().innerRadius(e.innerRadius).outerRadius(e.innerRadius+e.outerRadius*t.value).startAngle(n).endAngle(r)})})},t.prototype._drawThresholds=function(){return this.center.append("svg:circle").attr({r:this.innerRadius,"class":"circle"}),this.center.append("svg:circle").attr({r:.75*this.radius,"class":"dash-circle stroke-temp cool"}),this.center.append("svg:circle").attr({r:.9*this.radius,"class":"dash-circle stroke-temp warm"}),this.center.append("svg:circle").attr({r:1*this.radius,"class":"dash-circle stroke-temp hot"})},t.prototype._buildLegend=function(){var t,e,i;for(t=[],e=i=23;i>=0;e=--i)t.unshift(s.getTimeObject(e));return this.center.selectAll("text").data(t).enter().append("text").text(function(t){return t.hour%3===0?""+t.hour+t.period:t.hour}).attr({"class":function(t){return t.hour%3===0?"primary":"secondary"},x:function(t){return function(e,i){return 1.75*t.outerRadius*Math.sin(t._slices*i)}}(this),y:function(t){return function(e,i){return 1.75*-t.outerRadius*Math.cos(t._slices*i)}}(this)})},t.prototype._updateData=function(){return PubSub.publish("STATS.SUBSCRIBE.HOURLY_AVERAGE",{start:this.start,stop:this.stop,entity:this.options.entity,entityId:this.options.entityId,metric:this.metric,callback:this.updateAverageStats})},t}(),window.nanobox||(window.nanobox={}),nanobox.HourlyAverage=r},{"./utils":2,"jade/component":3}],2:[function(t,e,i){var r;e.exports=r=function(){function t(){}return t.getTimeObject=function(t){switch(!1){case 0!==t:return{hour:12,period:"am",military:t};case!(t<12):return{hour:t,period:"am",military:t};case 12!==t:return{hour:12,period:"pm",military:t};case!(t>12):return{hour:t-12,period:"pm",military:t}}},t.getTemperature=function(t){switch(!1){case!(t<0):return"wait";case!(t<=.75):return"cool";case!(t<=.9):return"warm";default:return"hot"}},t}()},{}],3:[function(t,e,i){e.exports=function(t){var e,i=[],r=t||{};return function(t,r,s){i.push('<div class="nanobox-dash-ui-hourly-average"><div class="component"></div><div class="controls"><div class="control"><select class="metrics">'),function(){var r=t;if("number"==typeof r.length)for(var s=0,n=r.length;s<n;s++){var a=r[s];i.push("<option"+jade.attr("value",a,!0,!1)+">"+jade.escape(null==(e=a)?"":e)+"</option>")}else{var n=0;for(var s in r){n++;var a=r[s];i.push("<option"+jade.attr("value",a,!0,!1)+">"+jade.escape(null==(e=a)?"":e)+"</option>")}}}.call(this),i.push('</select></div><div class="control"><div class="label">over last</div><select class="periods">'),function(){var t=r;if("number"==typeof t.length)for(var s=0,n=t.length;s<n;s++){var a=t[s];i.push("<option"+jade.attr("value",a.value,!0,!1)+">"+jade.escape(null==(e=a.text)?"":e)+"</option>")}else{var n=0;for(var s in t){n++;var a=t[s];i.push("<option"+jade.attr("value",a.value,!0,!1)+">"+jade.escape(null==(e=a.text)?"":e)+"</option>")}}}.call(this),i.push("</select></div></div></div>")}.call(this,"metrics"in r?r.metrics:"undefined"!=typeof metrics?metrics:void 0,"periods"in r?r.periods:"undefined"!=typeof periods?periods:void 0,"undefined"in r?r.undefined:void 0),i.join("")}},{}]},{},[1]);